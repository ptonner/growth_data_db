{% extends "base.html" %}

{% block subheading %}
home
{% endblock %}

{% block controls %}
  <!-- <a class="navbar-brand" href="#"></a> -->
  <img height=200px alt="Brand" src="{{url_for("static",filename='popmachine.png')}}">
{% endblock %}

{% block content %}

<h3>popmachine: a database for microbial population growth experiments</h3>

<p>
  popmachine is a comprehensive storage solution for microbial population growth data, a ubiquitous measure in microbiology.
  popmachine provides a number of services for organizing and analyzing microbial population growth data:
  <ul>
    <li>storage and organiziation of population growth data, with reliable identification for sharing with others</li>
    <li>combine data across projects and labs by searching for key terms and experimental designs</li>
    <li>analysis of data through non-parametric model Gaussian processes</li>
    <li>easy download of data for further analysis</li>
    <li>a full web api for accessing data through the python programming language</li>
  </ul>
</p>

{% if projects %}
  <h4>Projects <small><a href="{{url_for('projects')}}"> more </a></small></h4>

  <div class="container">
    <div class='row'>
      <div class="col-md-6">
        <table class='table table-hover'>
          <thead>
            <tr>
              <th class='text-center'>name</th>
              <th class='text-center'>plates</th>
            </tr>
          </thead>
          <tbody>
            {% for project in projects%}
                <tr>
                  <td class='text-center'> <a href="{{url_for('project', projectid=project.id)}}"> {{ project.name|e }} </a></td>
                  <td class='text-center'>{{project.plates | length}}</td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endif %}

{% if plates %}
  <h4>Plates <small><a href="{{url_for('plates')}}"> more </a></small></h4>

  <div class="container">
    <div class='row'>
      <div class="col-md-6">
        <table class='table table-hover'>
          <thead>
            <tr>
              <th class='text-center'>plate</th>
              <th class='text-center'>project</th>
              <th class='text-center'>wells</th>
            </tr>
          </thead>
          <tbody>
            {% for plate in plates %}
                <tr>
                  <td class='text-center'> <a href="{{url_for('plate', platename=plate.name)}}"> {{ plate.name|e }} </a></td>
                  <td class='text-center'>{{plate.project }}</td>
                  <td class='text-center'>{{plate.wells | length}}</td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endif %}

{% if designs %}
  <h4>Designs <small><a href="{{url_for('designs')}}"> more </a></small> </h4>

  <div class="container">
    <div class='row'>
      <div class="col-md-6">
        <table class='table table-hover'>
          <thead>
            <tr>
              <th class='text-center'>design</th>
              <th class='text-center'>namespace</th>
              <th class='text-center'>values</th>
              <th class='text-center'>type</th>

            </tr>
          </thead>
          <tbody>
            {% for d in designs %}
                <tr>
                  <td class='text-center'> <a href="{{url_for('design', _id=d.id)}}"> {{ d.name|e }} </a></td>
                  <td class='text-center'>{{d.namespace.name }}</td>
                  <td class='text-center'>{{d.values | length}}</td>
                  <td class='text-center'>{{d.type }}</td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endif %}

{% endblock %}
